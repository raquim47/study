<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mouse Effect Script</title>
  <link rel="stylesheet" href="style.css">
</head>

<body class="mouse bg">

  <!-- main -->
  <main id="mouseCont">
    <div class="cursor"></div>

    <div class="mouseCont">
      <p><span class="style1">hope</span> is <em>a</em> good <em>thing</em> maybe the <span class="style2">best of things</span> and no
        good thing ever <span class="style3">dies.</span> <span class="style1">steep</span> hills requires <span
          class="style2">slow</span> pace at <span class="style3">first.</span></p>
      <p><span class="style4">희망</span>은 좋은거죠. 가장 <span class="style5">소중한</span> 것이죠. 좋은 것은 절대 <span
          class="style6">사라지지 않아요.</span></p>
    </div>
  </main>
  <!-- //main -->

  <!-- info -->
  <div class="info">
    <h1>Mouse Effect01 - Javascript</h1>
    <p>마우스 이펙트 - 따라다니기</p>
  </div>

  <div class="info right">
    <ul>
      <li class="active"><a href="mouseeffect01.html">1</a></li>
      <li><a href="mouseeffect02.html">2</a></li>
      <li><a href="mouseeffect03.html">3</a></li>
      <li><a href="mouseeffect04.html">4</a></li>
      <li><a href="mouseeffect05.html">5</a></li>
      <li><a href="mouseeffect06.html">6</a></li>
      <li><a href="mouseeffect07.html">7</a></li>
      <li><a href="mouseeffect08.html">8</a></li>
    </ul>
  </div>

  <div class="info left">
    <ul>
      <li>clientX : <span class="clientX">0</span>px</li>
      <li>clientY : <span class="clientY">0</span>px</li>
      <li>offsetX : <span class="offsetX">0</span>px</li>
      <li>offsetY : <span class="offsetY">0</span>px</li>
      <li>pageX : <span class="pageX">0</span>px</li>
      <li>pageY : <span class="pageY">0</span>px</li>
      <li>screenX : <span class="screenX">0</span>px</li>
      <li>screenY : <span class="screenY">0</span>px</li>
    </ul>
  </div>
  <!-- //info -->

  <!-- script -->
  <script>
    //출력용
    window.addEventListener("mousemove", function (event) {
      // clientX - 브라우저 페이지를 기준으로 x좌표의 위치 (현재 내가 보는 뷰포트 만큼만)
      document.querySelector(".clientX").innerHTML = event.clientX;
      // clientY - 브라우저 페이지를 기준으로 y좌표의 위치 (현재 내가 보는 뷰포트 만큼만)
      document.querySelector(".clientY").innerHTML = event.clientY;
      // offsetX - 선택한 객체를 기준으로 x좌표의 위치
      document.querySelector(".offsetX").innerHTML = event.offsetX;
      // offsetY - 선택한 객체를 기준으로 y좌표의 위치
      document.querySelector(".offsetY").innerHTML = event.offsetY;
      // pageX - 전체 문서를 기준으로 x좌표의 위치 (스크롤 화면 포함)
      document.querySelector(".pageX").innerHTML = event.pageX;
      // pageY - 전체 문서를 기준으로 y좌표의 위치 (스크롤 화면 포함)
      document.querySelector(".pageY").innerHTML = event.pageY;
      // screenX 모니터 스크린을 기준으로 x좌표의 위치
      document.querySelector(".screenX").innerHTML = event.screenX;
      // screenY 모니터 스크린을 기준으로 x좌표의 위치
      document.querySelector(".screenY").innerHTML = event.screenY;
    });

    //마우스 움직이기
    window.addEventListener("mousemove", function (event) {

      let x = event.clientX - 25 + "px";
      let y = event.clientY - 25 + "px";
      // document.querySelector(".cursor").style.cssText = "left:" + x + "; top:" + y; 
      document.querySelector(".cursor").style.left = event.clientX - 25 + "px";
      document.querySelector(".cursor").style.top = event.clientY - 25 + "px";
    });

    // 마우스 오버
    // document.querySelector('.contents em').addEventListener('mouseenter', function(){
    //   document.querySelector('.cursor').classList.add('active');
    // });
    // document.querySelector('.contents em').addEventListener('mouseleave', function(){
    //   document.querySelector('.cursor').classList.remove('active');
    // });

    document.querySelectorAll(".mouseCont span").forEach(element => {
      let style = element.getAttribute("class");

      element.addEventListener("mouseover", () => {
        document.querySelector(".cursor").classList.add(style);
      })
      element.addEventListener("mouseout", () => {
        document.querySelector(".cursor").classList.remove(style);
      })
    })
    // getAttribute(); 요소의 특정값을 가져오는 함수
    document.querySelectorAll('.mouseCont span').forEach(el=>{
      let style = el.getAttribute('class');

      el.addEventListener('mouseover', () => {
        document.querySelector('.cursor').classList.add(style);
      });
      // mouseleave / mouseenter (->자식요소는 감지 X)
      // mouseout / mouseover (->자식 요소까지 감지)
      el.addEventListener('mouseover', () => {
        document.querySelector('.cursor').classList.add(style);
      });
    });

    // 에러 왜뜸?
    // em은 두 갠데 <= em.length 해버리면 em[2]이 없어서 에러!
    let em = document.querySelectorAll('.mouseCont em');
    for(let i=0; i< em.length; i++){
      em[i].style.color = '#f00';
    }
  </script>
</body>

</html>